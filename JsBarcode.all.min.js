function CODE128(f){function m(){return-1==f.search(a)?!1:!0}this.string128=f;this.valid=m;this.encoded=function(){if(m(f)){var d=f,a;a=""+k;for(var l="",g=0;g<d.length;g++){var b;a:{for(b=0;b<c.length;b++)if(c[b][0]==d[g]){b=c[b][1];break a}b=""}l+=b}a+=l;for(g=l=0;g<d.length;g++){a:{for(b=0;b<c.length;b++)if(c[b][0]==d[g]){b=c[b][2];break a}b=0}l+=b*(g+1)}d=(l+104)%103;a:{for(g=0;g<c.length;g++)if(c[g][2]==d){d=c[g][1];break a}d=""}a+=d;return a+=h}return""};var c=[[" ","11011001100",0],["!","11001101100",
1],['"',"11001100110",2],["#","10010011000",3],["$","10010001100",4],["%","10001001100",5],["&","10011001000",6],["'","10011000100",7],["(","10001100100",8],[")","11001001000",9],["*","11001000100",10],["+","11000100100",11],[",","10110011100",12],["-","10011011100",13],[".","10011001110",14],["/","10111001100",15],["0","10011101100",16],["1","10011100110",17],["2","11001110010",18],["3","11001011100",19],["4","11001001110",20],["5","11011100100",21],["6","11001110100",22],["7","11101101110",23],
["8","11101001100",24],["9","11100101100",25],[":","11100100110",26],[";","11101100100",27],["<","11100110100",28],["=","11100110010",29],[">","11011011000",30],["?","11011000110",31],["@","11000110110",32],["A","10100011000",33],["B","10001011000",34],["C","10001000110",35],["D","10110001000",36],["E","10001101000",37],["F","10001100010",38],["G","11010001000",39],["H","11000101000",40],["I","11000100010",41],["J","10110111000",42],["K","10110001110",43],["L","10001101110",44],["M","10111011000",
45],["N","10111000110",46],["O","10001110110",47],["P","11101110110",48],["Q","11010001110",49],["R","11000101110",50],["S","11011101000",51],["T","11011100010",52],["U","11011101110",53],["V","11101011000",54],["W","11101000110",55],["X","11100010110",56],["Y","11101101000",57],["Z","11101100010",58],["[","11100011010",59],["\\","11101111010",60],["]","11001000010",61],["^","11110001010",62],["_","10100110000",63],["`","10100001100",64],["a","10010110000",65],["b","10010000110",66],["c","10000101100",
67],["d","10000100110",68],["e","10110010000",69],["f","10110000100",70],["g","10011010000",71],["h","10011000010",72],["i","10000110100",73],["j","10000110010",74],["k","11000010010",75],["l","11001010000",76],["m","11110111010",77],["n","11000010100",78],["o","10001111010",79],["p","10100111100",80],["q","10010111100",81],["r","10010011110",82],["s","10111100100",83],["t","10011110100",84],["u","10011110010",85],["v","11110100100",86],["w","11110010100",87],["x","11110010010",88],["y","11011011110",
89],["z","11011110110",90],["{","11110110110",91],["|","10101111000",92],["}","10100011110",93],["~","10001011110",94],[String.fromCharCode(127),"10111101000",95],[String.fromCharCode(128),"10111100010",96],[String.fromCharCode(129),"11110101000",97],[String.fromCharCode(130),"11110100010",98],[String.fromCharCode(131),"10111011110",99],[String.fromCharCode(132),"10111101110",100],[String.fromCharCode(133),"11101011110",101],[String.fromCharCode(134),"11110101110",102]],k="11010010000",h="1100011101011",
a=/^[!-~ ]+$/};function EAN(f){function m(c,b){for(var d="",e=0;e<c.length;e++)"L"==b[e]?d+=k[c[e]]:"G"==b[e]?d+=h[c[e]]:"R"==b[e]&&(d+=a[c[e]]);return d}function c(c){if(-1==c.search(b))return!1;for(var d=c[12],a=0,e=0;12>e;e+=2)a+=parseInt(c[e]);for(e=1;12>e;e+=2)a+=3*parseInt(c[e]);return d==(10-a%10)%10}this.EANnumber=f+"";this.valid=function(){return c(this.EANnumber)};this.encoded=function(){if(c(this.EANnumber)){var a=this.EANnumber,b="",f=a[0],e=a.substr(1,7),a=a.substr(7,6),b=b+n,b=b+m(e,d[f]),b=b+g,b=
b+m(a,"RRRRRR");return b+=l}return""};var k={0:"0001101",1:"0011001",2:"0010011",3:"0111101",4:"0100011",5:"0110001",6:"0101111",7:"0111011",8:"0110111",9:"0001011"},h={0:"0100111",1:"0110011",2:"0011011",3:"0100001",4:"0011101",5:"0111001",6:"0000101",7:"0010001",8:"0001001",9:"0010111"},a={0:"1110010",1:"1100110",2:"1101100",3:"1000010",4:"1011100",5:"1001110",6:"1010000",7:"1000100",8:"1001000",9:"1110100"},d={0:"LLLLLL",1:"LLGLGG",2:"LLGGLG",3:"LLGGGL",4:"LGLLGG",5:"LGGLLG",6:"LGGGLL",7:"LGLGLG",
8:"LGLGGL",9:"LGGLGL"},n="101",l="101",g="01010",b=/^[0-9]{13}$/}function UPC(f){this.ean=new EAN("0"+f);this.valid=function(){return this.ean.valid()};this.encoded=function(){return this.ean.encoded()}};(function(f){f.fn.JsBarcode=function(m,c){c=f.extend({},f.fn.JsBarcode.defaults,c);var k=document.createElement("canvas"),h,a,d,n,l;if(!k.getContext)return this;h=k.getContext("2d");a=new window[c.format](m);if(!a.valid())return this;a=a.encoded();l=function(a){var b=k.width/2,d=c.height;h.font="12px arial";h.textBaseline="bottom";h.textAlign="center";h.textBaseline="top";h.fillText(a,b,d)};k.width=a.length*c.width+2*c.quite;k.height=c.height+30;h.fillStyle="#fff";h.fillRect(0,0,k.width,k.height);
for(d=0;d<a.length;d++)n=d*c.width+c.quite,h.fillStyle="1"==a[d]?"#000":"#fff",h.fillRect(n,0,c.width,c.height);c.displayValue&&l(m);a=k.toDataURL("image/png");return f(this).attr("src",a)};f.fn.JsBarcode.defaults={displayValue:!0,width:2,height:100,quite:10,format:"CODE128"}})(jQuery);
